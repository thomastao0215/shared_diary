{"remainingRequest":"/Users/jiachen/projects/shared_diary/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/jiachen/projects/shared_diary/src/packages/success/index.js","dependencies":[{"path":"/Users/jiachen/projects/shared_diary/src/packages/success/index.js","mtime":1574666290469},{"path":"/Users/jiachen/projects/shared_diary/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jiachen/projects/shared_diary/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import util from 'utils/util'; // index.js\n// 获取应用实例\n\nconst app = getApp();\nPage({\n  data: {\n    motto: 'Hello World',\n    userInfo: {},\n    hasUserInfo: false,\n    canIUse: wx.canIUse('button.open-type.getUserInfo')\n  },\n\n  onLoad(query = {}) {\n    const {\n      isNext,\n      orderId\n    } = query;\n    this.orderId = orderId;\n    this.setData({\n      isNext: !!isNext\n    });\n  },\n\n  bindShare() {},\n\n  onShareAppMessage() {\n    let user = wx.getStorageSync('user');\n    return {\n      title: '爱戴小盒，快来看看吧!',\n      path: '/pages/entry/index?from_uid=' + user.id + '&from_uid_time=' + util.formatTime(new Date()),\n      imageUrl: 'http://static.wx.qiaqiabox.com/slice/share/1.jpeg'\n    };\n  },\n\n  getUserInfo(e) {\n    console.log(e);\n    app.globalData.userInfo = e.detail.userInfo;\n    this.setData({\n      userInfo: e.detail.userInfo,\n      hasUserInfo: true\n    });\n  },\n\n  onClick() {\n    if (this.data.isNext) {\n      // 预约寄回\n      wx.redirectTo({\n        url: '/packages/back/index?id=' + this.orderId\n      });\n    } else {\n      // 查看我的小盒\n      wx.switchTab({\n        url: '/pages/box/index'\n      });\n    }\n  }\n\n});",null]}